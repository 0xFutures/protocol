{
  "contractName": "Registry",
  "abi": [
    {
      "constant": true,
      "inputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "name": "allCFDs",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "previousOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipRenounced",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getCFDFactoryLatest",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_addr",
          "type": "address"
        }
      ],
      "name": "setCFDFactoryLatest",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getFees",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_addr",
          "type": "address"
        }
      ],
      "name": "setFees",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_cfdAddr",
          "type": "address"
        }
      ],
      "name": "addCFD",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405260008054600160a060020a0319163317905561079c806100256000396000f3006080604052600436106100985763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630c5a95f8811461009d57806323ec7f2a146100da578063715018a6146100ef57806376d00fd8146101065780638da5cb5b14610127578063a275b7041461013c578063b4a869621461015d578063db8d55f11461017e578063f2fde38b14610193575b600080fd5b3480156100a957600080fd5b506100be600160a060020a03600435166101b4565b60408051600160a060020a039092168252519081900360200190f35b3480156100e657600080fd5b506100be6101cf565b3480156100fb57600080fd5b50610104610214565b005b34801561011257600080fd5b50610104600160a060020a0360043516610280565b34801561013357600080fd5b506100be6103d3565b34801561014857600080fd5b50610104600160a060020a03600435166103e2565b34801561016957600080fd5b50610104600160a060020a036004351661043b565b34801561018a57600080fd5b506100be610491565b34801561019f57600080fd5b50610104600160a060020a03600435166104d1565b600260205260009081526040902054600160a060020a031681565b600061020f6040805190810160405280601081526020017f434644466163746f72794c6174657374000000000000000000000000000000008152506104f1565b905090565b600054600160a060020a0316331461022b57600080fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600061028a6101cf565b60408051606081018252602881527f4f6e6c79206c61746573742043464420466163746f72792063616e206164642060208201527f6e657720434644730000000000000000000000000000000000000000000000009181019190915290915033600160a060020a03831614610397576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561035c578181015183820152602001610344565b50505050905090810190601f1680156103895780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b50600160a060020a039182166000908152600260205260409020805473ffffffffffffffffffffffffffffffffffffffff191691909216179055565b600054600160a060020a031681565b600054600160a060020a031633146103f957600080fd5b6104386040805190810160405280600481526020017f4665657300000000000000000000000000000000000000000000000000000000815250826105d7565b50565b600054600160a060020a0316331461045257600080fd5b6104386040805190810160405280601081526020017f434644466163746f72794c617465737400000000000000000000000000000000815250826105d7565b600061020f6040805190810160405280600481526020017f46656573000000000000000000000000000000000000000000000000000000008152506104f1565b600054600160a060020a031633146104e857600080fd5b610438816106f3565b600060016000836040516020018082805190602001908083835b6020831061052a5780518252601f19909201916020918201910161050b565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831061058d5780518252601f19909201916020918201910161056e565b51815160209384036101000a6000190180199092169116179052604080519290940182900390912086528501959095529290920160002054600160a060020a031695945050505050565b600054600160a060020a031633146105ee57600080fd5b8060016000846040516020018082805190602001908083835b602083106106265780518252601f199092019160209182019101610607565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083106106895780518252601f19909201916020918201910161066a565b51815160209384036101000a60001901801990921691161790526040805192909401829003909120865285019590955292909201600020805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0395909516949094179093555050505050565b600160a060020a038116151561070857600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555600a165627a7a723058202b8e413e63edf89b5a2d8589433facb617adf10faa234117aa9f4a46f1b899680029",
  "deployedBytecode": "0x6080604052600436106100985763ffffffff7c01000000000000000000000000000000000000000000000000000000006000350416630c5a95f8811461009d57806323ec7f2a146100da578063715018a6146100ef57806376d00fd8146101065780638da5cb5b14610127578063a275b7041461013c578063b4a869621461015d578063db8d55f11461017e578063f2fde38b14610193575b600080fd5b3480156100a957600080fd5b506100be600160a060020a03600435166101b4565b60408051600160a060020a039092168252519081900360200190f35b3480156100e657600080fd5b506100be6101cf565b3480156100fb57600080fd5b50610104610214565b005b34801561011257600080fd5b50610104600160a060020a0360043516610280565b34801561013357600080fd5b506100be6103d3565b34801561014857600080fd5b50610104600160a060020a03600435166103e2565b34801561016957600080fd5b50610104600160a060020a036004351661043b565b34801561018a57600080fd5b506100be610491565b34801561019f57600080fd5b50610104600160a060020a03600435166104d1565b600260205260009081526040902054600160a060020a031681565b600061020f6040805190810160405280601081526020017f434644466163746f72794c6174657374000000000000000000000000000000008152506104f1565b905090565b600054600160a060020a0316331461022b57600080fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a26000805473ffffffffffffffffffffffffffffffffffffffff19169055565b600061028a6101cf565b60408051606081018252602881527f4f6e6c79206c61746573742043464420466163746f72792063616e206164642060208201527f6e657720434644730000000000000000000000000000000000000000000000009181019190915290915033600160a060020a03831614610397576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825283818151815260200191508051906020019080838360005b8381101561035c578181015183820152602001610344565b50505050905090810190601f1680156103895780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b50600160a060020a039182166000908152600260205260409020805473ffffffffffffffffffffffffffffffffffffffff191691909216179055565b600054600160a060020a031681565b600054600160a060020a031633146103f957600080fd5b6104386040805190810160405280600481526020017f4665657300000000000000000000000000000000000000000000000000000000815250826105d7565b50565b600054600160a060020a0316331461045257600080fd5b6104386040805190810160405280601081526020017f434644466163746f72794c617465737400000000000000000000000000000000815250826105d7565b600061020f6040805190810160405280600481526020017f46656573000000000000000000000000000000000000000000000000000000008152506104f1565b600054600160a060020a031633146104e857600080fd5b610438816106f3565b600060016000836040516020018082805190602001908083835b6020831061052a5780518252601f19909201916020918201910161050b565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b6020831061058d5780518252601f19909201916020918201910161056e565b51815160209384036101000a6000190180199092169116179052604080519290940182900390912086528501959095529290920160002054600160a060020a031695945050505050565b600054600160a060020a031633146105ee57600080fd5b8060016000846040516020018082805190602001908083835b602083106106265780518252601f199092019160209182019101610607565b6001836020036101000a0380198251168184511680821785525050505050509050019150506040516020818303038152906040526040518082805190602001908083835b602083106106895780518252601f19909201916020918201910161066a565b51815160209384036101000a60001901801990921691161790526040805192909401829003909120865285019590955292909201600020805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0395909516949094179093555050505050565b600160a060020a038116151561070857600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a03929092169190911790555600a165627a7a723058202b8e413e63edf89b5a2d8589433facb617adf10faa234117aa9f4a46f1b899680029",
  "sourceMap": "147:1738:4:-;;;567:5:10;:18;;-1:-1:-1;;;;;;567:18:10;575:10;567:18;;;147:1738:4;;;;;;",
  "deployedSourceMap": "147:1738:4:-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1516:42;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1516:42:4;-1:-1:-1;;;;;1516:42:4;;;;;;;;;-1:-1:-1;;;;;1516:42:4;;;;;;;;;;;;;;335:110;;8:9:-1;5:2;;;30:1;27;20:12;5:2;335:110:4;;;;1001:111:10;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1001:111:10;;;;;;1567:311:4;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1567:311:4;-1:-1:-1;;;;;1567:311:4;;;;;238:20:10;;8:9:-1;5:2;;;30:1;27;20:12;5:2;238:20:10;;;;665:86:4;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;665:86:4;-1:-1:-1;;;;;665:86:4;;;;;453:110;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;453:110:4;-1:-1:-1;;;;;453:110:4;;;;;571:86;;8:9:-1;5:2;;;30:1;27;20:12;5:2;571:86:4;;;;1274:103:10;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1274:103:10;-1:-1:-1;;;;;1274:103:10;;;;;1516:42:4;;;;;;;;;;;;-1:-1:-1;;;;;1516:42:4;;:::o;335:110::-;387:7;414:23;;;;;;;;;;;;;;;;;;;:3;:23::i;:::-;407:30;;335:110;:::o;1001:111:10:-;719:5;;-1:-1:-1;;;;;719:5:10;705:10;:19;697:28;;;;;;1077:5;;;1058:25;;-1:-1:-1;;;;;1077:5:10;;;;1058:25;;;1105:1;1089:18;;-1:-1:-1;;1089:18:10;;;1001:111::o;1567:311:4:-;1619:25;1647:21;:19;:21::i;:::-;1792:29;;;;;;;;;;;;;;;;;;;;;;;;1619:49;;-1:-1:-1;1759:10:4;-1:-1:-1;;;;;1759:31:4;;;1751:71;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;1751:71:4;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;;1833:17:4;;;;;;;:7;:17;;;;;:37;;-1:-1:-1;;1833:37:4;;;;;;;;1567:311::o;238:20:10:-;;;-1:-1:-1;;;;;238:20:10;;:::o;665:86:4:-;719:5:10;;-1:-1:-1;;;;;719:5:10;705:10;:19;697:28;;;;;;725:18:4;;;;;;;;;;;;;;;;;;;737:5;725:3;:18::i;:::-;665:86;:::o;453:110::-;719:5:10;;-1:-1:-1;;;;;719:5:10;705:10;:19;697:28;;;;;;525:30:4;;;;;;;;;;;;;;;;;;;549:5;525:3;:30::i;571:86::-;611:7;638:11;;;;;;;;;;;;;;;;;;;:3;:11::i;1274:103:10:-;719:5;;-1:-1:-1;;;;;719:5:10;705:10;:19;697:28;;;;;;1343:29;1362:9;1343:18;:29::i;899:134:4:-;948:12;980:9;:45;1017:5;1000:23;;;;;;;;;;;;;;;36:153:-1;66:2;58:11;;36:153;;176:10;;164:23;;-1:-1;;139:12;;;;98:2;89:12;;;;114;36:153;;;274:1;267:3;263:2;259:12;254:3;250:22;246:30;315:4;311:9;305:3;299:10;295:26;356:4;350:3;344:10;340:21;389:7;380;377:20;372:3;365:33;3:399;;;1000:23:4;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;1000:23:4;;;990:34;;;;;;;;;;;;;36:153:-1;66:2;58:11;;36:153;;176:10;;164:23;;-1:-1;;139:12;;;;98:2;89:12;;;;114;36:153;;;299:10;344;;263:2;259:12;;;254:3;250:22;-1:-1;;246:30;311:9;;295:26;;;340:21;;377:20;365:33;;990:34:4;;;;;;;;;;;;;980:45;;;;;;;;;;;;-1:-1:-1;980:45:4;;-1:-1:-1;;;;;980:45:4;;;-1:-1:-1;;;;;899:134:4:o;759:132::-;719:5:10;;-1:-1:-1;;;;;719:5:10;705:10;:19;697:28;;;;;;878:5:4;830:9;:45;867:5;850:23;;;;;;;;;;;;;;;36:153:-1;66:2;58:11;;36:153;;176:10;;164:23;;-1:-1;;139:12;;;;98:2;89:12;;;;114;36:153;;;274:1;267:3;263:2;259:12;254:3;250:22;246:30;315:4;311:9;305:3;299:10;295:26;356:4;350:3;344:10;340:21;389:7;380;377:20;372:3;365:33;3:399;;;850:23:4;;;;;;;;;;;49:4:-1;39:7;30;26:21;22:32;13:7;6:49;850:23:4;;;840:34;;;;;;;;;;;;;36:153:-1;66:2;58:11;;36:153;;176:10;;164:23;;-1:-1;;139:12;;;;98:2;89:12;;;;114;36:153;;;299:10;344;;263:2;259:12;;;254:3;250:22;-1:-1;;246:30;311:9;;295:26;;;340:21;;377:20;365:33;;840:34:4;;;;;;;;;;;;;830:45;;;;;;;;;;;;-1:-1:-1;830:45:4;:53;;-1:-1:-1;;830:53:4;-1:-1:-1;;;;;830:53:4;;;;;;;;;;;-1:-1:-1;;;;;759:132:4:o;1512:171:10:-;-1:-1:-1;;;;;1582:23:10;;;;1574:32;;;;;;1638:5;;;1617:38;;-1:-1:-1;;;;;1617:38:10;;;;1638:5;;;1617:38;;;1661:5;:17;;-1:-1:-1;;1661:17:10;-1:-1:-1;;;;;1661:17:10;;;;;;;;;;1512:171::o",
  "source": "pragma solidity ^0.4.23;\r\npragma experimental \"v0.5.0\";\r\n\r\nimport \"openzeppelin-solidity/contracts/ownership/Ownable.sol\";\r\nimport \"./DBC.sol\";\r\n\r\ncontract Registry is DBC, Ownable {\r\n\r\n    string constant REASON_MUST_BE_LATEST_FACTORY = \"Only latest CFD Factory can add new CFDs\";\r\n\r\n    mapping(bytes32 => address) contracts;\r\n\r\n    function getCFDFactoryLatest() public view returns (address) {\r\n        return get(\"CFDFactoryLatest\");\r\n    }\r\n\r\n    function setCFDFactoryLatest(address _addr) public onlyOwner {\r\n        set(\"CFDFactoryLatest\", _addr);\r\n    }\r\n\r\n    function getFees() public view returns (address) {\r\n        return get(\"Fees\");\r\n    }\r\n\r\n    function setFees(address _addr) public onlyOwner {\r\n        set(\"Fees\", _addr);\r\n    }\r\n\r\n    function set(string _name, address _addr) private onlyOwner {\r\n        contracts[keccak256(abi.encodePacked(_name))] = _addr;\r\n    }\r\n\r\n    function get(string _name) private view returns (address addr) {\r\n        addr = contracts[keccak256(abi.encodePacked(_name))];\r\n    }\r\n\r\n\r\n    /*\r\n     * A registry of ALL CFDs created across any version set of the contracts.\r\n     *\r\n     * The mapping is from CFD address to CFDFactory that created it.\r\n     *\r\n     * The main reason to keep this is for the CFD upgrade mechansim to have a\r\n     * way to know a given CFD was created correctly through the 0xFutures\r\n     * mechansim and is not some dummy contract trying to onboard through\r\n     * the upgrade mechanism.\r\n     */\r\n    // cfd to cfd factory\r\n    mapping(address => address) public allCFDs;\r\n\r\n    function addCFD(address _cfdAddr) public {\r\n        address cfdFactoryCurrent = getCFDFactoryLatest();\r\n        // only the latest deployed factory is allowed to add new CFDs\r\n        require(msg.sender == cfdFactoryCurrent, REASON_MUST_BE_LATEST_FACTORY);\r\n        allCFDs[_cfdAddr] = cfdFactoryCurrent;\r\n    }\r\n\r\n\r\n}\r\n",
  "sourcePath": "D:\\Users\\Julien\\Desktop\\Work\\0xFutures\\protocol\\contracts\\Registry.sol",
  "compiler": {
    "name": "solc",
    "version": "0.4.24+commit.e67f0147.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "2.0.1",
  "updatedAt": "2018-12-11T13:18:02.972Z"
}