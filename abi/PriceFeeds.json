{
  "contractName": "PriceFeeds",
  "abi": [
    {
      "constant": true,
      "inputs": [],
      "name": "feedKyber",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_kyber",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_marketId",
          "type": "bytes32"
        }
      ],
      "name": "read",
      "outputs": [
        {
          "name": "value",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_marketId",
          "type": "bytes32"
        }
      ],
      "name": "marketName",
      "outputs": [
        {
          "name": "name",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "_marketId",
          "type": "bytes32"
        }
      ],
      "name": "isMarketActive",
      "outputs": [
        {
          "name": "active",
          "type": "bool"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.5.6+commit.b259423e\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"constant\":true,\"inputs\":[{\"name\":\"_marketId\",\"type\":\"bytes32\"}],\"name\":\"read\",\"outputs\":[{\"name\":\"value\",\"type\":\"uint256\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_marketId\",\"type\":\"bytes32\"}],\"name\":\"marketName\",\"outputs\":[{\"name\":\"name\",\"type\":\"string\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[],\"name\":\"feedKyber\",\"outputs\":[{\"name\":\"\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"constant\":true,\"inputs\":[{\"name\":\"_marketId\",\"type\":\"bytes32\"}],\"name\":\"isMarketActive\",\"outputs\":[{\"name\":\"active\",\"type\":\"bool\"}],\"payable\":false,\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"name\":\"_kyber\",\"type\":\"address\"}],\"payable\":false,\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"}],\"devdoc\":{\"methods\":{}},\"userdoc\":{\"methods\":{},\"notice\":\"Interface to market prices for the CFD contract.\\r Abstracts away the logic of reading from various market sources.\\r\"}},\"settings\":{\"compilationTarget\":{\"/D/Users/Julien/Desktop/Work/0xFutures/protocol/contracts/feeds/PriceFeeds.sol\":\"PriceFeeds\"},\"evmVersion\":\"constantinople\",\"libraries\":{},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[]},\"sources\":{\"/D/Users/Julien/Desktop/Work/0xFutures/protocol/contracts/DBC.sol\":{\"keccak256\":\"0x3fcf0d97ad97399402274b04b62f704f714bd84e0cf8d173337cdc983f1e8608\",\"urls\":[\"bzzr://30f2233a4e3d87dc3a395f921d8aed6139f911bbfb1677fa696a39639bcd005b\"]},\"/D/Users/Julien/Desktop/Work/0xFutures/protocol/contracts/Registry.sol\":{\"keccak256\":\"0x67d6edac57bd3f73f66d10124a85c3b31cbd2cc0cc70b8d64d0455aa9c661152\",\"urls\":[\"bzzr://728cc12165dd00b619a807f137cf605fcff6ca6884f4e60430725fcd5f573fb0\"]},\"/D/Users/Julien/Desktop/Work/0xFutures/protocol/contracts/feeds/PriceFeeds.sol\":{\"keccak256\":\"0x5e0f5882f1f3e0a71e3fdcb41abae9b8bf7ed1b012fd74b9dd9c810922e130dd\",\"urls\":[\"bzzr://d0d6757ec7e4a9ee4d314c1c486e16d608ec3dc671e6294c3fd567ae18733ce8\"]},\"/D/Users/Julien/Desktop/Work/0xFutures/protocol/contracts/feeds/PriceFeedsKyber.sol\":{\"keccak256\":\"0xead7f48b3dd784cb31d4a3af7dd30c54ec3cb40d2f990acd4226142591cb1f45\",\"urls\":[\"bzzr://5d79bec8552c59968eeefe9aa18df94d59f6f5104c46ef76d0d353d32242e537\"]},\"/D/Users/Julien/Desktop/Work/0xFutures/protocol/contracts/kyber/KyberNetworkProxyInterface.sol\":{\"keccak256\":\"0x7406628e7eb5a77a8b1e0a6ef60e2940851361ad5728fff9d0cc2a92640f5284\",\"urls\":[\"bzzr://0b80b3d03b08c87f1d87e4b754d92c7b626cb56da63e64503aa75ec287888c98\"]},\"openzeppelin-solidity/contracts/math/SafeMath.sol\":{\"keccak256\":\"0x965012d27b4262d7a41f5028cbb30c51ebd9ecd4be8fb30380aaa7a3c64fbc8b\",\"urls\":[\"bzzr://41ca38f6b0fa4b77b0feec43e422cfbec48b7eb38a41edf0b85c77e8d9a296b1\"]},\"openzeppelin-solidity/contracts/ownership/Ownable.sol\":{\"keccak256\":\"0x980de387a1a020a498f53d00f89fecebb12c949a17e8f160093c0303ede2b786\",\"urls\":[\"bzzr://08894efa2a557982070beda6a81a032407e70532d24bdafe80d39660c74904d9\"]},\"openzeppelin-solidity/contracts/token/ERC20/ERC20.sol\":{\"keccak256\":\"0xba431353cb4fe70777ac026231eb5468e41aa1e81240a2b8136917acc5fff4dc\",\"urls\":[\"bzzr://80cd02a56e6e33504318124d0d645c82e615cc8a4b5829cc9d82d17635c644c8\"]},\"openzeppelin-solidity/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x079c4e23ee448f529e43bfa3c4e8fb4be52cd0318ee923a276835bedf45b93d8\",\"urls\":[\"bzzr://48248e86f64407a95f241d6c5c8cfea6b4d4ebf4ebb467e5c98c8af3868fafe4\"]}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b5060405160208061063d8339810180604052602081101561003057600080fd5b5051600080546001600160a01b039092166001600160a01b03199092169190911790556105db806100626000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c806361da14391461005157806377d7c529146100805780639aa7d62614610112578063f4463db514610136575b600080fd5b61006e6004803603602081101561006757600080fd5b5035610167565b60408051918252519081900360200190f35b61009d6004803603602081101561009657600080fd5b503561038f565b6040805160208082528351818301528351919283929083019185019080838360005b838110156100d75781810151838201526020016100bf565b50505050905090810190601f1680156101045780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61011a6104e9565b604080516001600160a01b039092168252519081900360200190f35b6101536004803603602081101561014c57600080fd5b50356104f8565b604080519115158252519081900360200190f35b6000805460408051600160e01b63f4463db50281526004810185905290516001600160a01b039092169163f4463db591602480820192602092909190829003018186803b1580156101b757600080fd5b505afa1580156101cb573d6000803e3d6000fd5b505050506040513d60208110156101e157600080fd5b50511561026a5760005460408051600160e01b6361da14390281526004810185905290516001600160a01b03909216916361da143991602480820192602092909190829003018186803b15801561023757600080fd5b505afa15801561024b573d6000803e3d6000fd5b505050506040513d602081101561026157600080fd5b5051905061030a565b6040518060600160405280602e8152602001610582602e9139604051600160e51b62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360005b838110156102cf5781810151838201526020016102b7565b50505050905090810190601f1680156102fc5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b8061038a57604080518082018252601481527f4d61726b6574207072696365206973207a65726f00000000000000000000000060208083019182529251600160e51b62461bcd02815260048101938452825160248201528251929392839260449092019190808383600083156102cf5781810151838201526020016102b7565b919050565b60005460408051600160e01b63f4463db50281526004810184905290516060926001600160a01b03169163f4463db5916024808301926020929190829003018186803b1580156103de57600080fd5b505afa1580156103f2573d6000803e3d6000fd5b505050506040513d602081101561040857600080fd5b50511561026a576000805460408051600160e21b63106554850281526004810186905290516001600160a01b0390921692634195521492602480840193829003018186803b15801561045957600080fd5b505afa15801561046d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561049657600080fd5b8101908080516401000000008111156104ae57600080fd5b820160208101848111156104c157600080fd5b81516401000000008111828201871017156104db57600080fd5b5090945061038a9350505050565b6000546001600160a01b031681565b6000805460408051600160e01b63f4463db50281526004810185905290516001600160a01b039092169163f4463db591602480820192602092909190829003018186803b15801561054857600080fd5b505afa15801561055c573d6000803e3d6000fd5b505050506040513d602081101561057257600080fd5b50511561038a5750600191905056fe50726963652072657175657374656420666f7220696e616374697665206f7220756e6b6e6f776e206d61726b6574a165627a7a723058207bd1ea4b90c01647fcc63f26717a2ae98f8238c3af4ff915913a62fbd508419f0029",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c806361da14391461005157806377d7c529146100805780639aa7d62614610112578063f4463db514610136575b600080fd5b61006e6004803603602081101561006757600080fd5b5035610167565b60408051918252519081900360200190f35b61009d6004803603602081101561009657600080fd5b503561038f565b6040805160208082528351818301528351919283929083019185019080838360005b838110156100d75781810151838201526020016100bf565b50505050905090810190601f1680156101045780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b61011a6104e9565b604080516001600160a01b039092168252519081900360200190f35b6101536004803603602081101561014c57600080fd5b50356104f8565b604080519115158252519081900360200190f35b6000805460408051600160e01b63f4463db50281526004810185905290516001600160a01b039092169163f4463db591602480820192602092909190829003018186803b1580156101b757600080fd5b505afa1580156101cb573d6000803e3d6000fd5b505050506040513d60208110156101e157600080fd5b50511561026a5760005460408051600160e01b6361da14390281526004810185905290516001600160a01b03909216916361da143991602480820192602092909190829003018186803b15801561023757600080fd5b505afa15801561024b573d6000803e3d6000fd5b505050506040513d602081101561026157600080fd5b5051905061030a565b6040518060600160405280602e8152602001610582602e9139604051600160e51b62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360005b838110156102cf5781810151838201526020016102b7565b50505050905090810190601f1680156102fc5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b8061038a57604080518082018252601481527f4d61726b6574207072696365206973207a65726f00000000000000000000000060208083019182529251600160e51b62461bcd02815260048101938452825160248201528251929392839260449092019190808383600083156102cf5781810151838201526020016102b7565b919050565b60005460408051600160e01b63f4463db50281526004810184905290516060926001600160a01b03169163f4463db5916024808301926020929190829003018186803b1580156103de57600080fd5b505afa1580156103f2573d6000803e3d6000fd5b505050506040513d602081101561040857600080fd5b50511561026a576000805460408051600160e21b63106554850281526004810186905290516001600160a01b0390921692634195521492602480840193829003018186803b15801561045957600080fd5b505afa15801561046d573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f19168201604052602081101561049657600080fd5b8101908080516401000000008111156104ae57600080fd5b820160208101848111156104c157600080fd5b81516401000000008111828201871017156104db57600080fd5b5090945061038a9350505050565b6000546001600160a01b031681565b6000805460408051600160e01b63f4463db50281526004810185905290516001600160a01b039092169163f4463db591602480820192602092909190829003018186803b15801561054857600080fd5b505afa15801561055c573d6000803e3d6000fd5b505050506040513d602081101561057257600080fd5b50511561038a5750600191905056fe50726963652072657175657374656420666f7220696e616374697665206f7220756e6b6e6f776e206d61726b6574a165627a7a723058207bd1ea4b90c01647fcc63f26717a2ae98f8238c3af4ff915913a62fbd508419f0029",
  "sourceMap": "194:1289:10:-;;;443:89;8:9:-1;5:2;;;30:1;27;20:12;5:2;443:89:10;;;;;;;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;443:89:10;489:9;:35;;-1:-1:-1;;;;;489:35:10;;;-1:-1:-1;;;;;;489:35:10;;;;;;;;;194:1289;;;;;;",
  "deployedSourceMap": "194:1289:10:-;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;194:1289:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;540:378;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;540:378:10;;:::i;:::-;;;;;;;;;;;;;;;;926:311;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;926:311:10;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8:100:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;926:311:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;402:32;;;:::i;:::-;;;;-1:-1:-1;;;;;402:32:10;;;;;;;;;;;;;;1245:233;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1245:233:10;;:::i;:::-;;;;;;;;;;;;;;;;;;540:378;621:10;653:9;;:35;;;-1:-1:-1;;;;;653:35:10;;;;;;;;;;-1:-1:-1;;;;;653:9:10;;;;:24;;:35;;;;;;;;;;;;;;;:9;:35;;;5:2:-1;;;;30:1;27;20:12;5:2;653:35:10;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;653:35:10;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;653:35:10;649:175;;;713:9;;:25;;;-1:-1:-1;;;;;713:25:10;;;;;;;;;;-1:-1:-1;;;;;713:9:10;;;;:14;;:25;;;;;;;;;;;;;;;:9;:25;;;5:2:-1;;;;30:1;27;20:12;5:2;713:25:10;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;713:25:10;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;713:25:10;;-1:-1:-1;649:175:10;;;778:33;;;;;;;;;;;;;;;;;771:41;;-1:-1:-1;;;;;771:41:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;771:41:10;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;649:175;840:10;836:75;;874:24;;;;;;;;;;;;;;;;;;;867:32;;-1:-1:-1;;;;;867:32:10;;;;;;;;;;;;;;;;874:24;;867:32;;;;;;;;874:24;867:32;;874:24;-1:-1:-1;27:10;;8:100;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;836:75:10;540:378;;;:::o;926:311::-;1053:9;;:35;;;-1:-1:-1;;;;;1053:35:10;;;;;;;;;;1013:18;;-1:-1:-1;;;;;1053:9:10;;:24;;:35;;;;;;;;;;;;;;:9;:35;;;5:2:-1;;;;30:1;27;20:12;5:2;1053:35:10;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1053:35:10;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1053:35:10;1049:181;;;1112:9;;;:32;;;-1:-1:-1;;;;;1112:32:10;;;;;;;;;;-1:-1:-1;;;;;1112:9:10;;;;:21;;:32;;;;;;;;;;:9;:32;;;5:2:-1;;;;30:1;27;20:12;5:2;1112:32:10;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1112:32:10;;;;;;39:16:-1;36:1;17:17;2:54;101:4;1112:32:10;80:15:-1;;;-1:-1;;76:31;65:43;;120:4;113:20;13:2;5:11;;2:2;;;29:1;26;19:12;2:2;1112:32:10;;;;;;19:11:-1;14:3;11:20;8:2;;;44:1;41;34:12;8:2;62:21;;123:4;114:14;;138:31;;;135:2;;;182:1;179;172:12;135:2;213:10;;261:11;244:29;;285:43;;;282:58;-1:-1;233:115;230:2;;;361:1;358;351:12;230:2;-1:-1;1112:32:10;;-1:-1:-1;1049:181:10;;-1:-1:-1;;;;1049:181:10;402:32;;;-1:-1:-1;;;;;402:32:10;;:::o;1245:233::-;1336:11;1394:9;;:35;;;-1:-1:-1;;;;;1394:35:10;;;;;;;;;;-1:-1:-1;;;;;1394:9:10;;;;:24;;:35;;;;;;;;;;;;;;;:9;:35;;;5:2:-1;;;;30:1;27;20:12;5:2;1394:35:10;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1394:35:10;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;1394:35:10;1390:81;;;-1:-1:-1;1455:4:10;1245:233;;;:::o",
  "source": "pragma solidity ^0.5.0;\r\n\r\nimport \"./PriceFeedsKyber.sol\";\r\n\r\n/**\r\n * Interface to market prices for the CFD contract.\r\n * Abstracts away the logic of reading from various market sources.\r\n */\r\ncontract PriceFeeds {\r\n    string constant REASON_MARKET_INACTIVE_OR_UNKNOWN = \"Price requested for inactive or unknown market\";\r\n    string constant REASON_MARKET_VALUE_ZERO = \"Market price is zero\";\r\n\r\n    PriceFeedsKyber public feedKyber;\r\n\r\n    constructor(address _kyber) public {\r\n        feedKyber = PriceFeedsKyber(_kyber);\r\n    }\r\n\r\n    function read(bytes32 _marketId)\r\n        public\r\n        view\r\n        returns (uint value)\r\n    {\r\n        if (feedKyber.isMarketActive(_marketId)) {\r\n            value = feedKyber.read(_marketId);\r\n        } else {\r\n            revert(REASON_MARKET_INACTIVE_OR_UNKNOWN);\r\n        }\r\n\r\n        if (value == 0) {\r\n            revert(REASON_MARKET_VALUE_ZERO);\r\n        }\r\n    }\r\n\r\n    function marketName(bytes32 _marketId)\r\n        public\r\n        view\r\n        returns (string memory name)\r\n    {\r\n        if (feedKyber.isMarketActive(_marketId)) {\r\n            name = feedKyber.marketNames(_marketId);\r\n        } else {\r\n            revert(REASON_MARKET_INACTIVE_OR_UNKNOWN);\r\n        }\r\n    }\r\n\r\n    function isMarketActive(bytes32 _marketId)\r\n        public\r\n        view\r\n        returns (bool active)\r\n    {\r\n        active = false;\r\n        if (feedKyber.isMarketActive(_marketId)) {\r\n            active = true;\r\n        }\r\n    }\r\n\r\n}\r\n",
  "sourcePath": "D:\\Users\\Julien\\Desktop\\Work\\0xFutures\\protocol\\contracts\\feeds\\PriceFeeds.sol",
  "compiler": {
    "name": "solc",
    "version": "0.5.6+commit.b259423e.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.0.8",
  "updatedAt": "2020-01-04T15:21:55.731Z",
  "devdoc": {
    "methods": {}
  },
  "userdoc": {
    "methods": {},
    "notice": "Interface to market prices for the CFD contract.\r Abstracts away the logic of reading from various market sources.\r"
  }
}