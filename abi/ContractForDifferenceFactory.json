{
  "contractName": "ContractForDifferenceFactory",
  "abi": [
    {
      "constant": true,
      "inputs": [],
      "name": "forwardFactory",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "cfdRegistry",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "cfdModel",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "registry",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "feeds",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_registry",
          "type": "address"
        },
        {
          "name": "_cfdModel",
          "type": "address"
        },
        {
          "name": "_forwardFactory",
          "type": "address"
        },
        {
          "name": "_feeds",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "marketId",
          "type": "bytes32"
        },
        {
          "indexed": true,
          "name": "creator",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "newCFDAddr",
          "type": "address"
        }
      ],
      "name": "LogCFDFactoryNew",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "newCFDAddr",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "oldCFDAddr",
          "type": "address"
        }
      ],
      "name": "LogCFDFactoryNewByUpgrade",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "previousOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipRenounced",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_registry",
          "type": "address"
        }
      ],
      "name": "setRegistry",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_cfdModel",
          "type": "address"
        }
      ],
      "name": "setCFDModel",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_cfdRegistry",
          "type": "address"
        }
      ],
      "name": "setCFDRegistry",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_forwardFactory",
          "type": "address"
        }
      ],
      "name": "setForwardFactory",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_feeds",
          "type": "address"
        }
      ],
      "name": "setFeeds",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "_marketId",
          "type": "bytes32"
        },
        {
          "name": "_strikePrice",
          "type": "uint256"
        },
        {
          "name": "_notionalAmountDai",
          "type": "uint256"
        },
        {
          "name": "_isBuyer",
          "type": "bool"
        },
        {
          "name": "_value",
          "type": "uint256"
        }
      ],
      "name": "createContract",
      "outputs": [
        {
          "name": "cfd",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "createByUpgrade",
      "outputs": [
        {
          "name": "newCfd",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040523480156200001157600080fd5b50604051608080620014f4833981016040908152815160208301519183015160609093015160008054600160a060020a031916331790559092906200005f84640100000000620000a5810204565b6200007383640100000000620000df810204565b620000878264010000000062000119810204565b6200009b8164010000000062000153810204565b505050506200018d565b600054600160a060020a03163314620000bd57600080fd5b60018054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a03163314620000f757600080fd5b60028054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a031633146200013157600080fd5b60048054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a031633146200016b57600080fd5b60058054600160a060020a031916600160a060020a0392909216919091179055565b611357806200019d6000396000f3006080604052600436106100c15763ffffffff60e060020a600035041663165ae0fc81146100c657806338874a1a146100f757806344a1e6181461010c5780635fd355eb14610132578063715018a61461014757806377b727ac1461015e5780637b103999146101735780637dc532c5146101885780638da5cb5b146101a95780639255e0d6146101be578063a91ee0dc146101df578063abcca75e14610200578063c03cced314610221578063d63605b814610242578063f2fde38b14610257575b600080fd5b3480156100d257600080fd5b506100db610278565b60408051600160a060020a039092168252519081900360200190f35b34801561010357600080fd5b506100db610a76565b34801561011857600080fd5b506100db6004356024356044356064351515608435610a85565b34801561013e57600080fd5b506100db6110d1565b34801561015357600080fd5b5061015c6110e0565b005b34801561016a57600080fd5b506100db61113f565b34801561017f57600080fd5b506100db61114e565b34801561019457600080fd5b5061015c600160a060020a036004351661115d565b3480156101b557600080fd5b506100db611196565b3480156101ca57600080fd5b5061015c600160a060020a03600435166111a5565b3480156101eb57600080fd5b5061015c600160a060020a03600435166111de565b34801561020c57600080fd5b5061015c600160a060020a0360043516611217565b34801561022d57600080fd5b5061015c600160a060020a0360043516611250565b34801561024e57600080fd5b506100db611289565b34801561026357600080fd5b5061015c600160a060020a0360043516611298565b60008060008030600160a060020a0316600160009054906101000a9004600160a060020a0316600160a060020a03166323ec7f2a6040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156102d957600080fd5b505afa1580156102ed573d6000803e3d6000fd5b505050506040513d602081101561030357600080fd5b505160408051606081018252603081527f43616e206f6e6c792075706772616465206f6e206120666163746f727920746860208201527f617420697320746865206c6174657374000000000000000000000000000000009181019190915291600160a060020a03909116146103f95760405160e560020a62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360005b838110156103be5781810151838201526020016103a6565b50505050905090810190601f1680156103eb5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b50600154604080517f0c5a95f800000000000000000000000000000000000000000000000000000000815233600482018190529151919550600160a060020a0390921691630c5a95f8916024808301926020929190829003018186803b15801561046257600080fd5b505afa158015610476573d6000803e3d6000fd5b505050506040513d602081101561048c57600080fd5b50519150600160a060020a038216158015906104b15750600160a060020a0382163014155b60408051808201909152601f81527f43616c6c6572206d75737420626520612072656769737465726564204346440060208201529015156105375760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b5082905080600160a060020a03166341c20c8e6040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561057757600080fd5b505afa15801561058b573d6000803e3d6000fd5b505050506040513d60208110156105a157600080fd5b505160408051606081018252602181527f7570677261646561626c65206973206e6f742073657420696e2074686520434660208201527f4400000000000000000000000000000000000000000000000000000000000000918101919091529015156106515760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b5060048054600254604080517f9193ba0b000000000000000000000000000000000000000000000000000000008152600160a060020a039283169481019490945251911691639193ba0b9160248083019260209291908290030181600087803b1580156106bd57600080fd5b505af11580156106d1573d6000803e3d6000fd5b505050506040513d60208110156106e757600080fd5b5051600354604080517f7150d8ae0000000000000000000000000000000000000000000000000000000081529051929650600160a060020a0391821692630596030d92889290861691637150d8ae91600480820192602092909190829003018186803b15801561075657600080fd5b505afa15801561076a573d6000803e3d6000fd5b505050506040513d602081101561078057600080fd5b50516040805160e060020a63ffffffff8616028152600160a060020a03938416600482015292909116602483015251604480830192600092919082900301818387803b1580156107cf57600080fd5b505af11580156107e3573d6000803e3d6000fd5b5050600154600354600554604080517f2802759b000000000000000000000000000000000000000000000000000000008152600160a060020a038a81166004830152948516602482015292841660448401529083166064830152519188169350632802759b925060848082019260009290919082900301818387803b15801561086b57600080fd5b505af115801561087f573d6000803e3d6000fd5b5050600154604080517f76d00fd8000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015291519190921693506376d00fd89250602480830192600092919082900301818387803b1580156108ea57600080fd5b505af11580156108fe573d6000803e3d6000fd5b5050505083600160a060020a0316637150d8ae6040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561093e57600080fd5b505afa158015610952573d6000803e3d6000fd5b505050506040513d602081101561096857600080fd5b5051604080517f80f556050000000000000000000000000000000000000000000000000000000081529051600160a060020a03928316928716916380f55605916004808301926020929190829003018186803b1580156109c757600080fd5b505afa1580156109db573d6000803e3d6000fd5b505050506040513d60208110156109f157600080fd5b505160408051600160a060020a038816815290517f2d0c41699a808fef3dcfaa411d95703031d69229e73f5f3299fd6045deb4f9629181900360200190a360408051600160a060020a0383811682529151918616917fe77178664194a5b1c28f6ee0f3fcb6d4404d796abfdf7edee18b68617768f48a9181900360200190a250505090565b600454600160a060020a031681565b60008082600160009054906101000a9004600160a060020a0316600160a060020a0316638ef855686040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610ada57600080fd5b505afa158015610aee573d6000803e3d6000fd5b505050506040513d6020811015610b0457600080fd5b5051604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051600160a060020a039092169163dd62ed3e91604480820192602092909190829003018186803b158015610b6d57600080fd5b505afa158015610b81573d6000803e3d6000fd5b505050506040513d6020811015610b9757600080fd5b505160408051606081018252602581527f44414920616c6c6f77616e6365206973206c657373207468616e20746865205f60208201527f76616c756500000000000000000000000000000000000000000000000000000091810191909152911115908082610c4a5760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b5060048054600254604080517f9193ba0b000000000000000000000000000000000000000000000000000000008152600160a060020a039283169481019490945251339650911691639193ba0b9160248083019260209291908290030181600087803b158015610cb957600080fd5b505af1158015610ccd573d6000803e3d6000fd5b505050506040513d6020811015610ce357600080fd5b5051600154604080517f8ef855680000000000000000000000000000000000000000000000000000000081529051929650600160a060020a0390911691638ef8556891600480820192602092909190829003018186803b158015610d4657600080fd5b505afa158015610d5a573d6000803e3d6000fd5b505050506040513d6020811015610d7057600080fd5b5051604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a038681166004830152878116602483015260448201899052915191909216916323b872dd9160648083019260209291908290030181600087803b158015610de657600080fd5b505af1158015610dfa573d6000803e3d6000fd5b505050506040513d6020811015610e1057600080fd5b505160408051606081018252602b81527f4661696c757265207472616e73666572696e67206f776e657273686970206f6660208201527f2044414920746f6b656e7300000000000000000000000000000000000000000091810191909152901515610ec05760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b50600154600354600554604080517f5df0d4cd000000000000000000000000000000000000000000000000000000008152600160a060020a039485166004820152928416602484015290831660448301528583166064830152608482018c905260a482018b905260c482018a905288151560e48301525191861691635df0d4cd916101048082019260009290919082900301818387803b158015610f6357600080fd5b505af1158015610f77573d6000803e3d6000fd5b5050600154604080517f76d00fd8000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015291519190921693506376d00fd89250602480830192600092919082900301818387803b158015610fe257600080fd5b505af1158015610ff6573d6000803e3d6000fd5b505060408051600160a060020a038881168252915191871693508c92507f2d0c41699a808fef3dcfaa411d95703031d69229e73f5f3299fd6045deb4f962919081900360200190a3600354604080517f0596030d000000000000000000000000000000000000000000000000000000008152600160a060020a038781166004830152868116602483015291519190921691630596030d91604480830192600092919082900301818387803b1580156110ad57600080fd5b505af11580156110c1573d6000803e3d6000fd5b5050505050505095945050505050565b600354600160a060020a031681565b600054600160a060020a031633146110f757600080fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a260008054600160a060020a0319169055565b600254600160a060020a031681565b600154600160a060020a031681565b600054600160a060020a0316331461117457600080fd5b60058054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a031681565b600054600160a060020a031633146111bc57600080fd5b60038054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a031633146111f557600080fd5b60018054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a0316331461122e57600080fd5b60028054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a0316331461126757600080fd5b60048054600160a060020a031916600160a060020a0392909216919091179055565b600554600160a060020a031681565b600054600160a060020a031633146112af57600080fd5b6112b8816112bb565b50565b600160a060020a03811615156112d057600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a360008054600160a060020a031916600160a060020a03929092169190911790555600a165627a7a7230582072b682ab58f86d56e28d4b10dd0e97e6cd2d4379676e2f32248efe8d4b097a360029",
  "deployedBytecode": "0x6080604052600436106100c15763ffffffff60e060020a600035041663165ae0fc81146100c657806338874a1a146100f757806344a1e6181461010c5780635fd355eb14610132578063715018a61461014757806377b727ac1461015e5780637b103999146101735780637dc532c5146101885780638da5cb5b146101a95780639255e0d6146101be578063a91ee0dc146101df578063abcca75e14610200578063c03cced314610221578063d63605b814610242578063f2fde38b14610257575b600080fd5b3480156100d257600080fd5b506100db610278565b60408051600160a060020a039092168252519081900360200190f35b34801561010357600080fd5b506100db610a76565b34801561011857600080fd5b506100db6004356024356044356064351515608435610a85565b34801561013e57600080fd5b506100db6110d1565b34801561015357600080fd5b5061015c6110e0565b005b34801561016a57600080fd5b506100db61113f565b34801561017f57600080fd5b506100db61114e565b34801561019457600080fd5b5061015c600160a060020a036004351661115d565b3480156101b557600080fd5b506100db611196565b3480156101ca57600080fd5b5061015c600160a060020a03600435166111a5565b3480156101eb57600080fd5b5061015c600160a060020a03600435166111de565b34801561020c57600080fd5b5061015c600160a060020a0360043516611217565b34801561022d57600080fd5b5061015c600160a060020a0360043516611250565b34801561024e57600080fd5b506100db611289565b34801561026357600080fd5b5061015c600160a060020a0360043516611298565b60008060008030600160a060020a0316600160009054906101000a9004600160a060020a0316600160a060020a03166323ec7f2a6040518163ffffffff1660e060020a02815260040160206040518083038186803b1580156102d957600080fd5b505afa1580156102ed573d6000803e3d6000fd5b505050506040513d602081101561030357600080fd5b505160408051606081018252603081527f43616e206f6e6c792075706772616465206f6e206120666163746f727920746860208201527f617420697320746865206c6174657374000000000000000000000000000000009181019190915291600160a060020a03909116146103f95760405160e560020a62461bcd0281526004018080602001828103825283818151815260200191508051906020019080838360005b838110156103be5781810151838201526020016103a6565b50505050905090810190601f1680156103eb5780820380516001836020036101000a031916815260200191505b509250505060405180910390fd5b50600154604080517f0c5a95f800000000000000000000000000000000000000000000000000000000815233600482018190529151919550600160a060020a0390921691630c5a95f8916024808301926020929190829003018186803b15801561046257600080fd5b505afa158015610476573d6000803e3d6000fd5b505050506040513d602081101561048c57600080fd5b50519150600160a060020a038216158015906104b15750600160a060020a0382163014155b60408051808201909152601f81527f43616c6c6572206d75737420626520612072656769737465726564204346440060208201529015156105375760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b5082905080600160a060020a03166341c20c8e6040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561057757600080fd5b505afa15801561058b573d6000803e3d6000fd5b505050506040513d60208110156105a157600080fd5b505160408051606081018252602181527f7570677261646561626c65206973206e6f742073657420696e2074686520434660208201527f4400000000000000000000000000000000000000000000000000000000000000918101919091529015156106515760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b5060048054600254604080517f9193ba0b000000000000000000000000000000000000000000000000000000008152600160a060020a039283169481019490945251911691639193ba0b9160248083019260209291908290030181600087803b1580156106bd57600080fd5b505af11580156106d1573d6000803e3d6000fd5b505050506040513d60208110156106e757600080fd5b5051600354604080517f7150d8ae0000000000000000000000000000000000000000000000000000000081529051929650600160a060020a0391821692630596030d92889290861691637150d8ae91600480820192602092909190829003018186803b15801561075657600080fd5b505afa15801561076a573d6000803e3d6000fd5b505050506040513d602081101561078057600080fd5b50516040805160e060020a63ffffffff8616028152600160a060020a03938416600482015292909116602483015251604480830192600092919082900301818387803b1580156107cf57600080fd5b505af11580156107e3573d6000803e3d6000fd5b5050600154600354600554604080517f2802759b000000000000000000000000000000000000000000000000000000008152600160a060020a038a81166004830152948516602482015292841660448401529083166064830152519188169350632802759b925060848082019260009290919082900301818387803b15801561086b57600080fd5b505af115801561087f573d6000803e3d6000fd5b5050600154604080517f76d00fd8000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015291519190921693506376d00fd89250602480830192600092919082900301818387803b1580156108ea57600080fd5b505af11580156108fe573d6000803e3d6000fd5b5050505083600160a060020a0316637150d8ae6040518163ffffffff1660e060020a02815260040160206040518083038186803b15801561093e57600080fd5b505afa158015610952573d6000803e3d6000fd5b505050506040513d602081101561096857600080fd5b5051604080517f80f556050000000000000000000000000000000000000000000000000000000081529051600160a060020a03928316928716916380f55605916004808301926020929190829003018186803b1580156109c757600080fd5b505afa1580156109db573d6000803e3d6000fd5b505050506040513d60208110156109f157600080fd5b505160408051600160a060020a038816815290517f2d0c41699a808fef3dcfaa411d95703031d69229e73f5f3299fd6045deb4f9629181900360200190a360408051600160a060020a0383811682529151918616917fe77178664194a5b1c28f6ee0f3fcb6d4404d796abfdf7edee18b68617768f48a9181900360200190a250505090565b600454600160a060020a031681565b60008082600160009054906101000a9004600160a060020a0316600160a060020a0316638ef855686040518163ffffffff1660e060020a02815260040160206040518083038186803b158015610ada57600080fd5b505afa158015610aee573d6000803e3d6000fd5b505050506040513d6020811015610b0457600080fd5b5051604080517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523360048201523060248201529051600160a060020a039092169163dd62ed3e91604480820192602092909190829003018186803b158015610b6d57600080fd5b505afa158015610b81573d6000803e3d6000fd5b505050506040513d6020811015610b9757600080fd5b505160408051606081018252602581527f44414920616c6c6f77616e6365206973206c657373207468616e20746865205f60208201527f76616c756500000000000000000000000000000000000000000000000000000091810191909152911115908082610c4a5760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b5060048054600254604080517f9193ba0b000000000000000000000000000000000000000000000000000000008152600160a060020a039283169481019490945251339650911691639193ba0b9160248083019260209291908290030181600087803b158015610cb957600080fd5b505af1158015610ccd573d6000803e3d6000fd5b505050506040513d6020811015610ce357600080fd5b5051600154604080517f8ef855680000000000000000000000000000000000000000000000000000000081529051929650600160a060020a0390911691638ef8556891600480820192602092909190829003018186803b158015610d4657600080fd5b505afa158015610d5a573d6000803e3d6000fd5b505050506040513d6020811015610d7057600080fd5b5051604080517f23b872dd000000000000000000000000000000000000000000000000000000008152600160a060020a038681166004830152878116602483015260448201899052915191909216916323b872dd9160648083019260209291908290030181600087803b158015610de657600080fd5b505af1158015610dfa573d6000803e3d6000fd5b505050506040513d6020811015610e1057600080fd5b505160408051606081018252602b81527f4661696c757265207472616e73666572696e67206f776e657273686970206f6660208201527f2044414920746f6b656e7300000000000000000000000000000000000000000091810191909152901515610ec05760405160e560020a62461bcd028152600401808060200182810382528381815181526020019150805190602001908083836000838110156103be5781810151838201526020016103a6565b50600154600354600554604080517f5df0d4cd000000000000000000000000000000000000000000000000000000008152600160a060020a039485166004820152928416602484015290831660448301528583166064830152608482018c905260a482018b905260c482018a905288151560e48301525191861691635df0d4cd916101048082019260009290919082900301818387803b158015610f6357600080fd5b505af1158015610f77573d6000803e3d6000fd5b5050600154604080517f76d00fd8000000000000000000000000000000000000000000000000000000008152600160a060020a03898116600483015291519190921693506376d00fd89250602480830192600092919082900301818387803b158015610fe257600080fd5b505af1158015610ff6573d6000803e3d6000fd5b505060408051600160a060020a038881168252915191871693508c92507f2d0c41699a808fef3dcfaa411d95703031d69229e73f5f3299fd6045deb4f962919081900360200190a3600354604080517f0596030d000000000000000000000000000000000000000000000000000000008152600160a060020a038781166004830152868116602483015291519190921691630596030d91604480830192600092919082900301818387803b1580156110ad57600080fd5b505af11580156110c1573d6000803e3d6000fd5b5050505050505095945050505050565b600354600160a060020a031681565b600054600160a060020a031633146110f757600080fd5b60008054604051600160a060020a03909116917ff8df31144d9c2f0f6b59d69b8b98abd5459d07f2742c4df920b25aae33c6482091a260008054600160a060020a0319169055565b600254600160a060020a031681565b600154600160a060020a031681565b600054600160a060020a0316331461117457600080fd5b60058054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a031681565b600054600160a060020a031633146111bc57600080fd5b60038054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a031633146111f557600080fd5b60018054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a0316331461122e57600080fd5b60028054600160a060020a031916600160a060020a0392909216919091179055565b600054600160a060020a0316331461126757600080fd5b60048054600160a060020a031916600160a060020a0392909216919091179055565b600554600160a060020a031681565b600054600160a060020a031633146112af57600080fd5b6112b8816112bb565b50565b600160a060020a03811615156112d057600080fd5b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a360008054600160a060020a031916600160a060020a03929092169190911790555600a165627a7a7230582072b682ab58f86d56e28d4b10dd0e97e6cd2d4379676e2f32248efe8d4b097a360029",
  "sourceMap": "284:4778:6:-;;;1194:277;8:9:-1;5:2;;;30:1;27;20:12;5:2;1194:277:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;567:5:11;:18;;-1:-1:-1;;;;;;567:18:11;575:10;567:18;;;1194:277:6;;;1340:22;1194:277;1340:11;;;;:22;:::i;:::-;1372;1384:9;1372:11;;;;:22;:::i;:::-;1404:34;1422:15;1404:17;;;;:34;:::i;:::-;1448:16;1457:6;1448:8;;;;:16;:::i;:::-;1194:277;;;;284:4778;;1477:104;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1544:8:6;:30;;-1:-1:-1;;;;;;1544:30:6;-1:-1:-1;;;;;1544:30:6;;;;;;;;;;1477:104::o;1587:94::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1654:8:6;:20;;-1:-1:-1;;;;;;1654:20:6;-1:-1:-1;;;;;1654:20:6;;;;;;;;;;1587:94::o;1799:118::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1878:14:6;:32;;-1:-1:-1;;;;;;1878:32:6;-1:-1:-1;;;;;1878:32:6;;;;;;;;;;1799:118::o;1923:82::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1984:5:6;:14;;-1:-1:-1;;;;;;1984:14:6;-1:-1:-1;;;;;1984:14:6;;;;;;;;;;1923:82::o;284:4778::-;;;;;;;",
  "deployedSourceMap": "284:4778:6:-;;;;;;;;;-1:-1:-1;;;284:4778:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3700:1359;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3700:1359:6;;;;;;;;-1:-1:-1;;;;;3700:1359:6;;;;;;;;;;;;;;1132:29;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1132:29:6;;;;2442:1046;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;2442:1046:6;;;;;;;;;;;;;;;1100:26;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1100:26:6;;;;1001:111:11;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1001:111:11;;;;;;1071:23:6;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1071:23:6;;;;1041:24;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1041:24:6;;;;1923:82;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1923:82:6;-1:-1:-1;;;;;1923:82:6;;;;;238:20:11;;8:9:-1;5:2;;;30:1;27;20:12;5:2;238:20:11;;;;1687:106:6;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1687:106:6;-1:-1:-1;;;;;1687:106:6;;;;;1477:104;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1477:104:6;-1:-1:-1;;;;;1477:104:6;;;;;1587:94;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1587:94:6;-1:-1:-1;;;;;1587:94:6;;;;;1799:118;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1799:118:6;-1:-1:-1;;;;;1799:118:6;;;;;1167:20;;8:9:-1;5:2;;;30:1;27;20:12;5:2;1167:20:6;;;;1274:103:11;;8:9:-1;5:2;;;30:1;27;20:12;5:2;-1:-1;1274:103:11;-1:-1:-1;;;;;1274:103:11;;;;;3700:1359:6;3761:28;3961:15;4079:21;4275:33;3921:4;-1:-1:-1;;;;;3879:47:6;:8;;;;;;;;;-1:-1:-1;;;;;3879:8:6;-1:-1:-1;;;;;3879:28:6;;:30;;;;;-1:-1:-1;;;3879:30:6;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;3879:30:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3879:30:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;3879:30:6;3928:21;;;;;;;;;;;;3879:30;3928:21;;;;;;;;;;;;-1:-1:-1;;;;;3879:47:6;;;;3871:79;;;;-1:-1:-1;;;;;3871:79:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;8:100;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;;12:14;3871:79:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;4103:8:6;;:25;;;;;;3979:10;4103:25;;;;;;;;3979:10;;-1:-1:-1;;;;;;4103:8:6;;;;:16;;:25;;;;;;;;;;;;;;:8;:25;;;5:2:-1;;;;30:1;27;20:12;5:2;4103:25:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4103:25:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4103:25:6;;-1:-1:-1;;;;;;4159:20:6;;;;;;:54;;-1:-1:-1;;;;;;4183:30:6;;4208:4;4183:30;;4159:54;4228:26;;;;;;;;;;;;;;;;;;4138:126;;;;;;-1:-1:-1;;;;;4138:126:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;4138:126:6;;4333:7;4275:66;;4359:11;-1:-1:-1;;;;;4359:23:6;;:25;;;;;-1:-1:-1;;;4359:25:6;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4359:25:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4359:25:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4359:25:6;4386:31;;;;;;;;;;;;4359:25;4386:31;;;;;;;;;;;;4351:67;;;;;;-1:-1:-1;;;;;4351:67:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;4351:67:6;-1:-1:-1;4488:14:6;;;4520:8;;4473:56;;;;;;-1:-1:-1;;;;;4520:8:6;;;4473:56;;;;;;;;4488:14;;;4473:46;;:56;;;;;;;;;;;;;;4488:14;;4473:56;;;5:2:-1;;;;30:1;27;20:12;5:2;4473:56:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4473:56:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4473:56:6;4579:11;;4637:19;;;;;;;;4473:56;;-1:-1:-1;;;;;;4579:11:6;;;;4549:54;;4473:56;;4637:17;;;;;;:19;;;;;4473:56;;4637:19;;;;;;;;:17;:19;;;5:2:-1;;;;30:1;27;20:12;5:2;4637:19:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4637:19:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4637:19:6;4549:117;;;-1:-1:-1;;;4549:117:6;;;;;;-1:-1:-1;;;;;4549:117:6;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;4549:117:6;;;;;;;-1:-1:-1;4549:117:6;;;;5:2:-1;;;;30:1;27;20:12;5:2;4549:117:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;4742:8:6;;4765:11;;4790:5;;4677:128;;;;;;-1:-1:-1;;;;;4677:128:6;;;;;;;4742:8;;;4677:128;;;;4765:11;;;4677:128;;;;4790:5;;;4677:128;;;;;:22;;;;-1:-1:-1;4677:22:6;;-1:-1:-1;4677:128:6;;;;;4742:8;;4677:128;;;;;;;;4742:8;4677:22;:128;;;5:2:-1;;;;30:1;27;20:12;5:2;4677:128:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;4815:8:6;;:23;;;;;;-1:-1:-1;;;;;4815:23:6;;;;;;;;;:8;;;;;-1:-1:-1;4815:15:6;;-1:-1:-1;4815:23:6;;;;;:8;;:23;;;;;;;:8;;:23;;;5:2:-1;;;;30:1;27;20:12;5:2;4815:23:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4815:23:6;;;;4968:6;-1:-1:-1;;;;;4968:12:6;;:14;;;;;-1:-1:-1;;;4968:14:6;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;4968:14:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4968:14:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4968:14:6;4951:15;;;;;;;;-1:-1:-1;;;;;4934:57:6;;;;4951:13;;;;;:15;;;;;4968:14;;4951:15;;;;;;;:13;:15;;;5:2:-1;;;;30:1;27;20:12;5:2;4951:15:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;4951:15:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;4951:15:6;4934:57;;;-1:-1:-1;;;;;4934:57:6;;;;;;;;;;;4951:15;4934:57;;;5006:46;;;-1:-1:-1;;;;;5006:46:6;;;;;;;;;;;;;;;;;;;;3700:1359;;;;:::o;1132:29::-;;;-1:-1:-1;;;;;1132:29:6;;:::o;2442:1046::-;2776:25;2817:15;2699:6;2650:8;;;;;;;;;-1:-1:-1;;;;;2650:8:6;-1:-1:-1;;;;;2650:15:6;;:17;;;;;-1:-1:-1;;;2650:17:6;;;;;;;;;;;;;;;;8:9:-1;5:2;;;30:1;27;20:12;5:2;2650:17:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2650:17:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2650:17:6;:45;;;;;;2678:10;2650:45;;;;2690:4;2650:45;;;;;;-1:-1:-1;;;;;2650:27:6;;;;;;:45;;;;;:17;;:45;;;;;;;;:27;:45;;;5:2:-1;;;;30:1;27;20:12;5:2;2650:45:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2650:45:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2650:45:6;2720:28;;;;;;;;;;;;2650:45;2720:28;;;;;;;;;;;2650:55;-1:-1:-1;2650:55:6;;2720:28;2650:55;309:26:0;;;;-1:-1:-1;;;;;309:26:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;309:26:0;-1:-1:-1;2912:14:6;;;2944:8;;2897:56;;;;;;-1:-1:-1;;;;;2944:8:6;;;2897:56;;;;;;;;2835:10;;-1:-1:-1;2912:14:6;;;2897:46;;:56;;;;;;;;;;;;;;2912:14;;2897:56;;;5:2:-1;;;;30:1;27;20:12;5:2;2897:56:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2897:56:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2897:56:6;2994:8;;:17;;;;;;;;2897:56;;-1:-1:-1;;;;;;2994:8:6;;;;:15;;:17;;;;;2897:56;;2994:17;;;;;;;;:8;:17;;;5:2:-1;;;;30:1;27;20:12;5:2;2994:17:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2994:17:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2994:17:6;:52;;;;;;-1:-1:-1;;;;;2994:52:6;;;;;;;;;;;;;;;;;;;;;;:30;;;;;;;:52;;;;;:17;;:52;;;;;;;-1:-1:-1;2994:30:6;:52;;;5:2:-1;;;;30:1;27;20:12;5:2;2994:52:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2994:52:6;;;;;;;13:2:-1;8:3;5:11;2:2;;;29:1;26;19:12;2:2;-1:-1;2994:52:6;3060:26;;;;;;;;;;;;2994:52;3060:26;;;;;;;;;;;;2973:123;;;;;;-1:-1:-1;;;;;2973:123:6;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;23:1:-1;33:3;30:1;27:10;8:100;;;90:11;;;84:18;71:11;;;64:39;52:2;45:10;8:100;;2973:123:6;-1:-1:-1;3130:8:6;;3152:11;;3177:5;;3106:210;;;;;;-1:-1:-1;;;;;3130:8:6;;;3106:210;;;;3152:11;;;3106:210;;;;3177:5;;;3106:210;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:10;;;;;;:210;;;;;3130:8;;3106:210;;;;;;;;3130:8;3106:10;:210;;;5:2:-1;;;;30:1;27;20:12;5:2;3106:210:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;3327:8:6;;:20;;;;;;-1:-1:-1;;;;;3327:20:6;;;;;;;;;:8;;;;;-1:-1:-1;3327:15:6;;-1:-1:-1;3327:20:6;;;;;:8;;:20;;;;;;;:8;;:20;;;5:2:-1;;;;30:1;27;20:12;5:2;3327:20:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;-1:-1;;3362:41:6;;;-1:-1:-1;;;;;3362:41:6;;;;;;;;;;;-1:-1:-1;3379:9:6;;-1:-1:-1;3362:41:6;;;;;;;;;;3443:11;;3413:68;;;;;;-1:-1:-1;;;;;3413:68:6;;;;;;;;;;;;;;;;3443:11;;;;;3413:54;;:68;;;;;3443:11;;3413:68;;;;;;;3443:11;;3413:68;;;5:2:-1;;;;30:1;27;20:12;5:2;3413:68:6;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;3413:68:6;;;;2442:1046;;;;;;;;;;:::o;1100:26::-;;;-1:-1:-1;;;;;1100:26:6;;:::o;1001:111:11:-;719:5;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1077:5;;;1058:25;;-1:-1:-1;;;;;1077:5:11;;;;1058:25;;;1105:1;1089:18;;-1:-1:-1;;;;;;1089:18:11;;;1001:111::o;1071:23:6:-;;;-1:-1:-1;;;;;1071:23:6;;:::o;1041:24::-;;;-1:-1:-1;;;;;1041:24:6;;:::o;1923:82::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1984:5:6;:14;;-1:-1:-1;;;;;;1984:14:6;-1:-1:-1;;;;;1984:14:6;;;;;;;;;;1923:82::o;238:20:11:-;;;-1:-1:-1;;;;;238:20:11;;:::o;1687:106:6:-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1760:11:6;:26;;-1:-1:-1;;;;;;1760:26:6;-1:-1:-1;;;;;1760:26:6;;;;;;;;;;1687:106::o;1477:104::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1544:8:6;:30;;-1:-1:-1;;;;;;1544:30:6;-1:-1:-1;;;;;1544:30:6;;;;;;;;;;1477:104::o;1587:94::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1654:8:6;:20;;-1:-1:-1;;;;;;1654:20:6;-1:-1:-1;;;;;1654:20:6;;;;;;;;;;1587:94::o;1799:118::-;719:5:11;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1878:14:6;:32;;-1:-1:-1;;;;;;1878:32:6;-1:-1:-1;;;;;1878:32:6;;;;;;;;;;1799:118::o;1167:20::-;;;-1:-1:-1;;;;;1167:20:6;;:::o;1274:103:11:-;719:5;;-1:-1:-1;;;;;719:5:11;705:10;:19;697:28;;;;;;1343:29;1362:9;1343:18;:29::i;:::-;1274:103;:::o;1512:171::-;-1:-1:-1;;;;;1582:23:11;;;;1574:32;;;;;;1638:5;;;1617:38;;-1:-1:-1;;;;;1617:38:11;;;;1638:5;;;1617:38;;;1661:5;:17;;-1:-1:-1;;;;;;1661:17:11;-1:-1:-1;;;;;1661:17:11;;;;;;;;;;1512:171::o",
  "source": "pragma solidity ^0.4.23;\npragma experimental \"v0.5.0\";\n\nimport \"openzeppelin-solidity/contracts/ownership/Ownable.sol\";\nimport \"../DBC.sol\";\nimport \"../Registry.sol\";\nimport \"../ForwardFactory.sol\";\nimport \"./ContractForDifference.sol\";\nimport \"./ContractForDifferenceRegistry.sol\";\n\ncontract ContractForDifferenceFactory is DBC, Ownable {\n    event LogCFDFactoryNew(\n        bytes32 indexed marketId,\n        address indexed creator,\n        address newCFDAddr\n    );\n    event LogCFDFactoryNewByUpgrade(\n        address indexed newCFDAddr,\n        address oldCFDAddr\n    );\n\n    string constant REASON_MUST_BE_LATEST = \"Can only upgrade on a factory that is the latest\";\n    string constant REASON_MUST_REGISTERED_CFD = \"Caller must be a registered CFD\";\n    string constant REASON_UPGRADEABLE_FLAG_NOT_SET = \"upgradeable is not set in the CFD\";\n    string constant REASON_DAI_TRANSFER_FAILED = \"Failure transfering ownership of DAI tokens\";\n    string constant REASON_DAI_ALLOWANCE_TOO_LOW = \"DAI allowance is less than the _value\";\n\n    Registry public registry;\n    address public cfdModel;\n    address public cfdRegistry;\n    address public forwardFactory;\n    address public feeds;\n\n    constructor(\n        address _registry,\n        address _cfdModel,\n        address _forwardFactory,\n        address _feeds\n    ) public {\n        setRegistry(_registry);\n        setCFDModel(_cfdModel);\n        setForwardFactory(_forwardFactory);\n        setFeeds(_feeds);\n    }\n\n    function setRegistry(address _registry) public onlyOwner {\n        registry = Registry(_registry);\n    }\n\n    function setCFDModel(address _cfdModel) public onlyOwner {\n        cfdModel = _cfdModel;\n    }\n\n    function setCFDRegistry(address _cfdRegistry) public onlyOwner {\n        cfdRegistry = _cfdRegistry;\n    }\n\n    function setForwardFactory(address _forwardFactory) public onlyOwner {\n        forwardFactory = _forwardFactory;\n    }\n\n    function setFeeds(address _feeds) public onlyOwner {\n        feeds = _feeds;\n    }\n\n    /**\n     * Create a new ContractForDifference instance\n     *\n     * @param _marketId Contract for this market (see Feeds.sol markets)\n     * @param _strikePrice Contact strike price\n     * @param _notionalAmountDai Contract notional amount\n     * @param _isBuyer If the caller is to be the buyer, else they will be the seller\n     * @param _value Amount of DAI to deposit\n     *\n     * @return address of new contract\n     */\n    function createContract(\n        bytes32 _marketId,\n        uint _strikePrice,\n        uint _notionalAmountDai,\n        bool _isBuyer,\n        uint _value\n    )\n        external\n        pre_cond(\n            registry.getDAI().allowance(msg.sender, this) >= _value, \n            REASON_DAI_ALLOWANCE_TOO_LOW\n        )\n        returns (ContractForDifference cfd)\n    {\n        address creator = msg.sender;\n\n        cfd = ContractForDifference(\n            ForwardFactory(forwardFactory).createForwarder(cfdModel)\n        );\n        require(\n            registry.getDAI().transferFrom(creator, cfd, _value),\n            REASON_DAI_TRANSFER_FAILED\n        );\n        cfd.create(\n            registry,\n            cfdRegistry,\n            feeds,\n            creator,\n            _marketId,\n            _strikePrice,\n            _notionalAmountDai,\n            _isBuyer\n        );\n\n        registry.addCFD(cfd);\n        emit LogCFDFactoryNew(_marketId, creator, cfd);\n        ContractForDifferenceRegistry(cfdRegistry).registerNew(cfd, creator);\n    }\n\n    /**\n     * Upgrade a CFD at a different set of contracts to this set of contracts.\n     * The old CFD itself will invoke this function to do the upgrade.\n\n     * @return address of new contract\n     */\n    function createByUpgrade()\n        external\n        returns (ContractForDifference newCfd)\n    {\n        // can only upgrade this if factory is the latest version\n        require(registry.getCFDFactoryLatest() == address(this), REASON_MUST_BE_LATEST);\n\n        address cfdAddr = msg.sender;\n\n        // can only upgrade if cfd registered and not with this latest version\n        address registryEntry = registry.allCFDs(cfdAddr);\n        require(\n            registryEntry != 0x0 && registryEntry != address(this), \n            REASON_MUST_REGISTERED_CFD\n        );\n\n        ContractForDifference existingCfd = ContractForDifference(cfdAddr);\n        require(existingCfd.upgradeable(), REASON_UPGRADEABLE_FLAG_NOT_SET);\n\n        newCfd = ContractForDifference(\n            ForwardFactory(forwardFactory).createForwarder(cfdModel)\n        );\n        ContractForDifferenceRegistry(cfdRegistry).registerNew(\n            newCfd,\n            existingCfd.buyer()\n        );\n\n        newCfd.createByUpgrade(\n            cfdAddr,\n            address(registry),\n            cfdRegistry,\n            feeds\n        );\n        registry.addCFD(newCfd);\n\n        // replicate logging for an ordinary create so queries will get this to\n        emit LogCFDFactoryNew(newCfd.market(), newCfd.buyer(), newCfd);\n        emit LogCFDFactoryNewByUpgrade(newCfd, existingCfd);\n    }\n\n}\n",
  "sourcePath": "/home/julien/0xFutures/protocol/contracts/cfd/ContractForDifferenceFactory.sol",
  "compiler": {
    "name": "solc",
    "version": "0.4.25+commit.59dbf8f1.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "2.0.2",
  "updatedAt": "2019-02-11T03:29:10.790Z"
}